<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ Sistema Inteligente de Aprendizagem - Knowledge Tracing</title>
    <meta name="description" content="Sistema de IA que recomenda exercÃ­cios personalizados para cada aluno">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <button class="theme-toggle" onclick="toggleTheme()" title="ğŸŒ“ Clique para alternar entre tema claro e escuro" aria-label="Alternar tema">ğŸŒ“</button>
            <h1>ğŸ“ Sistema Inteligente de Aprendizagem</h1>
            <p>ğŸ“š RecomendaÃ§Ãµes personalizadas de exercÃ­cios usando InteligÃªncia Artificial</p>
            <p style="font-size: 0.9em; color: var(--text-secondary); margin-top: 0.5rem;">
                ğŸ’¡ O sistema aprende com cada aluno e recomenda os exercÃ­cios ideais para seu nÃ­vel
            </p>
        </header>

        <section class="upload-section">
            <h2>ğŸ“¤ 1. Envie Seus Dados</h2>
            <p style="margin-bottom: 1rem; color: var(--text-secondary);">
                â„¹ï¸ FaÃ§a upload de um arquivo CSV com histÃ³rico de exercÃ­cios dos alunos
            </p>
            <input type="file" id="csvFile" accept=".csv" aria-label="Selecionar arquivo CSV">
            <button onclick="uploadCSV()" id="uploadBtn">ğŸ“¤ Carregar Arquivo</button>
            <div id="uploadStatus"></div>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--primary-color);">â“ Qual formato usar?</summary>
                <pre style="background: var(--section-bg); padding: 1rem; border-radius: 8px; margin-top: 0.5rem; overflow-x: auto;">
student_id,timestamp,item_id,skill_id,correct
aluno_001,2024-01-15T10:30:00,ex_mat_01,matematica,1
aluno_001,2024-01-15T10:35:00,ex_mat_02,matematica,0
                </pre>
                <p style="margin-top: 0.5rem; font-size: 0.9em;">
                    â€¢ <strong>student_id</strong>: IdentificaÃ§Ã£o do aluno<br>
                    â€¢ <strong>timestamp</strong>: Data e hora<br>
                    â€¢ <strong>item_id</strong>: CÃ³digo do exercÃ­cio<br>
                    â€¢ <strong>skill_id</strong>: Habilidade/conceito<br>
                    â€¢ <strong>correct</strong>: 1 = acertou, 0 = errou
                </p>
            </details>
        </section>

        <section class="recommend-section">
            <h2>ğŸ¯ 2. Obtenha RecomendaÃ§Ã£o Personalizada</h2>
            <p style="margin-bottom: 1rem; color: var(--text-secondary);">
                ğŸ¤– A IA analisa o histÃ³rico e recomenda o melhor prÃ³ximo exercÃ­cio
            </p>
            <div class="form-group">
                <label>ğŸ“Š EstratÃ©gia de RecomendaÃ§Ã£o:</label>
                <select id="strategy" aria-label="Escolher estratÃ©gia de recomendaÃ§Ã£o">
                    <option value="target">ğŸ¯ Target - Dificuldade Ideal (70% de chance de acerto) â­ RECOMENDADO</option>
                    <option value="info_gain">ğŸ“Š Ganho de InformaÃ§Ã£o - ExercÃ­cio mais informativo</option>
                    <option value="exploration">ğŸ” ExploraÃ§Ã£o - MÃ¡xima incerteza (para descobrir nÃ­vel)</option>
                    <option value="heuristic">ğŸ§® HeurÃ­stica - Regras simples (backup)</option>
                    <option value="random">ğŸ² AleatÃ³ria - Sorteio (para comparaÃ§Ã£o)</option>
                </select>
                <p style="font-size: 0.85em; color: var(--text-secondary); margin-top: 0.5rem;">
                    ğŸ’¡ <strong>Target</strong> Ã© a melhor para aprendizado real: nem muito fÃ¡cil, nem muito difÃ­cil!
                </p>
            </div>
            <div class="form-group">
                <label>ğŸšï¸ Probabilidade Alvo (apenas para estratÃ©gia Target):</label>
                <input type="number" id="targetP" min="0" max="1" step="0.05" value="0.7" aria-label="Probabilidade alvo">
                <p style="font-size: 0.85em; color: var(--text-secondary); margin-top: 0.5rem;">
                    ğŸ’¡ 0.7 = 70% de chance de acertar (zona ideal de aprendizado)
                </p>
            </div>
            <button onclick="getRecommendation()" id="recommendBtn">ğŸ¯ Obter RecomendaÃ§Ã£o</button>
            <div id="recommendation"></div>
        </section>

        <section class="metrics-section">
            <h2>ğŸ“ˆ 3. Veja o Desempenho do Sistema</h2>
            <p style="margin-bottom: 1rem; color: var(--text-secondary);">
                ğŸ“Š MÃ©tricas que mostram a qualidade das previsÃµes da IA
            </p>
            <div id="metrics"></div>
            <div class="stats-grid" id="statsGrid"></div>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--primary-color);">â“ O que significam essas mÃ©tricas?</summary>
                <div style="margin-top: 1rem; font-size: 0.9em;">
                    <p><strong>ğŸ“Š AUC (Ãrea Sob a Curva):</strong><br>
                    Mede a qualidade das previsÃµes. Quanto maior, melhor!<br>
                    âœ… Bom: > 0.75 | ğŸ¯ Excelente: > 0.85</p>
                    
                    <p><strong>ğŸ¯ Accuracy (PrecisÃ£o):</strong><br>
                    Porcentagem de previsÃµes corretas.<br>
                    âœ… Bom: > 70% | ğŸ¯ Excelente: > 80%</p>
                    
                    <p><strong>ğŸ“ˆ Ganho de Aprendizado:</strong><br>
                    Quanto os alunos melhoram usando o sistema.<br>
                    âœ… Bom: > 0.10 | ğŸ¯ Excelente: > 0.15</p>
                    
                    <p><strong>â±ï¸ Tempo atÃ© Maestria:</strong><br>
                    Quantos exercÃ­cios atÃ© dominar um conceito.<br>
                    âœ… Bom: < 20 | ğŸ¯ Excelente: < 15</p>
                </div>
            </details>
            <canvas id="metricsChart" width="400" height="200"></canvas>
        </section>

        <section class="advanced-section">
            <h2>âš™ï¸ 4. Recursos AvanÃ§ados</h2>
            <p style="margin-bottom: 1rem; color: var(--text-secondary);">
                ğŸ”§ Ferramentas profissionais para monitoramento e otimizaÃ§Ã£o
            </p>
            <button onclick="checkDrift()" title="Verifica se o modelo precisa ser retreinado">
                ğŸ” Verificar Drift do Modelo
            </button>
            <button onclick="getCacheStats()" title="Mostra estatÃ­sticas de performance do cache">
                ğŸ’¾ EstatÃ­sticas de Cache
            </button>
            <button onclick="getUncertainty()" title="Mostra confianÃ§a das previsÃµes usando MC Dropout">
                ğŸ² Estimativa de Incerteza
            </button>
            <div id="advancedResults"></div>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--primary-color);">â“ Para que servem esses recursos?</summary>
                <div style="margin-top: 1rem; font-size: 0.9em;">
                    <p><strong>ğŸ” Drift do Modelo:</strong><br>
                    Detecta se o modelo estÃ¡ "desatualizado" e precisa ser retreinado com dados mais recentes.</p>
                    
                    <p><strong>ğŸ’¾ Cache:</strong><br>
                    Sistema que memoriza prediÃ§Ãµes para responder mais rÃ¡pido (atÃ© 90% mais rÃ¡pido!).</p>
                    
                    <p><strong>ğŸ² Incerteza:</strong><br>
                    Mostra o quÃ£o "confiante" a IA estÃ¡ em cada prediÃ§Ã£o. Ãštil para decisÃµes importantes.</p>
                </div>
            </details>
        </section>

        <footer style="text-align: center; padding: 2rem 0; border-top: 2px solid var(--border-color); margin-top: 2rem; color: var(--text-secondary);">
            <p>ğŸ“ <strong>Sistema Inteligente de Aprendizagem</strong></p>
            <p style="font-size: 0.9em; margin-top: 0.5rem;">
                Desenvolvido com â¤ï¸ para democratizar IA na educaÃ§Ã£o brasileira<br>
                CÃ³digo aberto â€¢ Dados anonimizados â€¢ 100% em PortuguÃªs
            </p>
            <p style="font-size: 0.8em; margin-top: 1rem;">
                ğŸ’¡ DÃºvidas? Leia <a href="../README_DIDATICO.md" style="color: var(--primary-color);">README_DIDATICO.md</a> 
                ou <a href="../GUIA_INICIANTES.md" style="color: var(--primary-color);">GUIA_INICIANTES.md</a>
            </p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>